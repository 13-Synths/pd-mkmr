#N canvas 190 283 654 498 10;
#X obj 165 223 tgl 17 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 165 245 metro 50;
#X obj 165 266 tabwrite~ \$0-scope;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-scope 441 float 0;
#X coords 0 1 440 -1 441 101 1 0 0;
#X restore 12 377 graph;
#X msg 232 88 1 \, 0 1;
#X obj 232 109 line~;
#X obj 12 278 clip~ -1 1;
#N canvas 723 345 271 188 hv.bandpass.mmb~ 0;
#N canvas 951 134 579 388 biquad.mmb~ 0;
#X obj 22 160 czero~;
#X obj 104 206 czero~;
#X obj 132 262 cpole~;
#X obj 214 308 cpole~;
#X obj 12 12 inlet~ audio;
#X obj 345 14 inlet~ b0;
#X obj 415 14 inlet~ b1;
#X obj 485 14 inlet~ b2;
#X obj 154 181 inlet~ a1;
#X obj 277 181 inlet~ a2;
#N canvas 1246 328 230 118 extract.gain 0;
#X obj 12 12 inlet~;
#X obj 12 84 outlet~;
#X obj 82 12 inlet~;
#X obj 152 12 inlet~;
#X obj 82 84 outlet~;
#X obj 152 84 outlet~;
#X obj 82 48 /~;
#X obj 152 48 /~;
#X connect 0 0 1 0;
#X connect 0 0 6 1;
#X connect 0 0 7 1;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 27 88 pd extract.gain;
#N canvas 928 569 537 205 get.zero.locations 0;
#X obj 12 12 inlet~;
#X obj 180 12 inlet~;
#N canvas 1081 638 537 221 zero1 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 178 outlet~;
#X obj 123 178 outlet~;
#X obj 116 126 sig~ 2;
#X text 164 102 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1385 652 245 139 complex_add.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 58 +~;
#X obj 72 58 +~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 12 100 pd complex_add.mmb~;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 152 pd complex_div.mmb~;
#X text 164 142 -b + ...;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 48 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 74 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 7 2;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 9 0 6 2;
#X connect 10 0 6 3;
#X restore 12 124 pd zero1;
#X obj 12 170 outlet~;
#X obj 72 170 outlet~;
#X obj 132 170 outlet~;
#X obj 192 170 outlet~;
#X obj 12 58 *~ -1;
#X text 251 47 ---------------------;
#X text 197 37 roots = -b +/- sqrt(b^2 - 4ac);
#N canvas 912 711 543 211 zero2 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 178 outlet~;
#X obj 123 178 outlet~;
#X obj 116 126 sig~ 2;
#X text 164 102 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 152 pd complex_div.mmb~;
#X text 164 142 -b + ...;
#N canvas 1385 652 245 139 complex_sub.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X obj 12 58 -~;
#X obj 72 58 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 12 100 pd complex_sub.mmb~;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 48 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 74 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 6 2;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 8 2;
#X connect 10 0 8 3;
#X restore 132 124 pd zero2;
#X text 301 57 2a;
#X text 197 77 Note: becase b0 is extracted from coefficents \, a in
the quadratic will always be 1;
#X obj 57 37 *~;
#X obj 57 58 -~;
#X obj 124 32 *~ 4;
#X connect 0 0 7 0;
#X connect 0 0 13 0;
#X connect 0 0 13 1;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 7 0 2 0;
#X connect 7 0 10 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 13 0 14 0;
#X connect 14 0 2 1;
#X connect 14 0 10 1;
#X connect 15 0 14 1;
#X restore 44 124 pd get.zero.locations;
#X obj 214 334 outlet~;
#X obj 12 124 *~;
#N canvas 944 425 565 218 get.pole.locations 0;
#X obj 12 12 inlet~;
#X obj 180 12 inlet~;
#X obj 12 180 outlet~;
#X obj 72 180 outlet~;
#X obj 132 180 outlet~;
#X obj 192 180 outlet~;
#N canvas 1036 210 561 203 pole1 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 169 outlet~;
#X obj 123 169 outlet~;
#X obj 126 117 sig~ 2;
#X text 177 90 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1385 652 245 139 complex_add.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 58 +~;
#X obj 72 58 +~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 12 91 pd complex_add.mmb~;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 143 pd complex_div.mmb~;
#X text 177 140 -b + ...;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 38 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 64 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 7 2;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 9 0 6 2;
#X connect 10 0 6 3;
#X restore 12 124 pd pole1;
#X obj 12 58 *~ 1;
#X text 257 98 ---------------------;
#X text 307 108 2a;
#X text 197 58 <- because it should be -a1 and -a2;
#X text 197 128 Note: since a0 is assumed to be 1 \, a in the quadratic
will always be 1;
#X text 197 88 roots = -b +/- sqrt(b^2 - 4ac);
#N canvas 1036 210 561 203 pole2 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 169 outlet~;
#X obj 123 169 outlet~;
#X obj 126 117 sig~ 2;
#X text 177 90 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 143 pd complex_div.mmb~;
#X text 177 140 -b + ...;
#N canvas 1385 652 245 139 complex_sub.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X obj 12 58 -~;
#X obj 72 58 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 12 90 pd complex_sub.mmb~;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 38 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 64 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 6 2;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 8 2;
#X connect 10 0 8 3;
#X restore 132 124 pd pole2;
#X obj 57 37 *~;
#X obj 124 32 *~ 4;
#X obj 57 58 +~;
#X connect 0 0 7 0;
#X connect 0 0 14 0;
#X connect 0 0 14 1;
#X connect 1 0 15 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 7 0 6 0;
#X connect 7 0 13 0;
#X connect 13 0 4 0;
#X connect 13 1 5 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 6 1;
#X connect 16 0 13 1;
#X restore 154 207 pd get.pole.locations;
#X text 315 208 Difference Equation:;
#X text 325 288 H(z) = b0 + b1*z^-1 + b2*z^-2;
#X text 367 308 1 + a1*z^-1 + a2*z^-2;
#X text 367 298 ----------------------;
#X text 367 243 - a1*y[n-1] - a2*y[n-2];
#X text 325 228 y[n] = b0*x[n] + b1*x[n-1] + b2*x[n-2];
#X text 315 268 z-Transform:;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 12 0;
#X connect 4 0 13 0;
#X connect 5 0 10 0;
#X connect 6 0 10 1;
#X connect 7 0 10 2;
#X connect 8 0 14 0;
#X connect 9 0 14 1;
#X connect 10 0 13 1;
#X connect 10 1 11 0;
#X connect 10 2 11 1;
#X connect 11 0 0 2;
#X connect 11 1 0 3;
#X connect 11 2 1 2;
#X connect 11 3 1 3;
#X connect 13 0 0 0;
#X connect 14 0 2 2;
#X connect 14 1 2 3;
#X connect 14 2 3 2;
#X connect 14 3 3 3;
#X restore 12 136 pd biquad.mmb~;
#N canvas 1458 399 405 343 filtercoeff.mmb~ 0;
#X obj 12 288 outlet~ a1;
#X obj 82 288 outlet~ a2;
#X obj 152 288 outlet~ b0;
#X obj 222 288 outlet~ b1;
#X obj 292 288 outlet~ b2;
#X obj 12 21 inlet~ frequency;
#X obj 266 12 inlet~ Q;
#X obj 354 248 +~ 1;
#X obj 82 184 sig~ 1;
#X obj 82 210 -~;
#X obj 266 72 max~ 0.01;
#X obj 292 236 *~ -1;
#X obj 222 236 sig~ 0;
#X obj 152 184 *~;
#X obj 12 262 /~;
#X obj 82 262 /~;
#X obj 152 262 /~;
#X obj 222 262 /~;
#X obj 292 262 /~;
#X obj 12 236 *~ -1;
#X obj 82 236 *~ -1;
#X obj 167 134 /~;
#X obj 182 108 *~ 2;
#X obj 12 107 cos~;
#X obj 12 128 *~ -2;
#X obj 167 82 cos~;
#X obj 12 47 /~ 44100;
#X text 16 86 -2*COS($v1);
#X text 159 43 SIN($v1);
#X obj 167 61 -~ 0.25;
#X connect 5 0 26 0;
#X connect 6 0 10 0;
#X connect 7 0 17 1;
#X connect 7 0 18 1;
#X connect 7 0 16 1;
#X connect 7 0 15 1;
#X connect 7 0 14 1;
#X connect 8 0 9 0;
#X connect 9 0 20 0;
#X connect 10 0 13 0;
#X connect 10 0 22 0;
#X connect 11 0 18 0;
#X connect 12 0 17 0;
#X connect 13 0 11 0;
#X connect 13 0 16 0;
#X connect 14 0 0 0;
#X connect 15 0 1 0;
#X connect 16 0 2 0;
#X connect 17 0 3 0;
#X connect 18 0 4 0;
#X connect 19 0 14 0;
#X connect 20 0 15 0;
#X connect 21 0 13 1;
#X connect 21 0 9 1;
#X connect 21 0 7 0;
#X connect 22 0 21 1;
#X connect 23 0 24 0;
#X connect 24 0 19 0;
#X connect 25 0 21 0;
#X connect 26 0 23 0;
#X connect 26 0 29 0;
#X connect 29 0 25 0;
#X restore 28 80 pd filtercoeff.mmb~ bandpass;
#X obj 28 59 clip~ 0 20000;
#X obj 193 38 sig~ 100;
#X obj 28 38 inlet~;
#X obj 12 157 outlet~;
#X obj 12 12 inlet~;
#X text 204 80 <- HERE;
#X connect 0 0 5 0;
#X connect 1 0 0 1;
#X connect 1 1 0 2;
#X connect 1 2 0 3;
#X connect 1 3 0 4;
#X connect 1 4 0 5;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 4 0 2 0;
#X connect 6 0 0 0;
#X restore 232 131 pd hv.bandpass.mmb~;
#X obj 12 299 hip~ 3;
#X obj 12 341 dac~ 1 2;
#X obj 12 320 *~ 0.2;
#X obj 232 61 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 232 174 -~ 0.25;
#X obj 232 195 cos~;
#X obj 232 152 *~ 8;
#X msg 12 88 1 \, 0 1;
#X obj 12 109 line~;
#X obj 12 61 bng 17 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 12 174 -~ 0.25;
#X obj 12 195 cos~;
#X obj 12 152 *~ 8;
#N canvas 454 472 271 188 bandpass.mmb~ 0;
#N canvas 951 134 579 388 biquad.mmb~ 0;
#X obj 22 160 czero~;
#X obj 104 206 czero~;
#X obj 132 262 cpole~;
#X obj 214 308 cpole~;
#X obj 12 12 inlet~ audio;
#X obj 345 14 inlet~ b0;
#X obj 415 14 inlet~ b1;
#X obj 485 14 inlet~ b2;
#X obj 154 181 inlet~ a1;
#X obj 277 181 inlet~ a2;
#N canvas 1246 328 230 118 extract.gain 0;
#X obj 12 12 inlet~;
#X obj 12 84 outlet~;
#X obj 82 12 inlet~;
#X obj 152 12 inlet~;
#X obj 82 84 outlet~;
#X obj 152 84 outlet~;
#X obj 82 48 /~;
#X obj 152 48 /~;
#X connect 0 0 1 0;
#X connect 0 0 6 1;
#X connect 0 0 7 1;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 27 88 pd extract.gain;
#N canvas 928 569 537 205 get.zero.locations 0;
#X obj 12 12 inlet~;
#X obj 180 12 inlet~;
#N canvas 1081 638 537 221 zero1 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 178 outlet~;
#X obj 123 178 outlet~;
#X obj 116 126 sig~ 2;
#X text 164 102 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1385 652 245 139 complex_add.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 58 +~;
#X obj 72 58 +~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 12 100 pd complex_add.mmb~;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 152 pd complex_div.mmb~;
#X text 164 142 -b + ...;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 48 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 74 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 7 2;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 9 0 6 2;
#X connect 10 0 6 3;
#X restore 12 124 pd zero1;
#X obj 12 170 outlet~;
#X obj 72 170 outlet~;
#X obj 132 170 outlet~;
#X obj 192 170 outlet~;
#X obj 12 58 *~ -1;
#X text 251 47 ---------------------;
#X text 197 37 roots = -b +/- sqrt(b^2 - 4ac);
#N canvas 912 711 543 211 zero2 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 178 outlet~;
#X obj 123 178 outlet~;
#X obj 116 126 sig~ 2;
#X text 164 102 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 152 pd complex_div.mmb~;
#X text 164 142 -b + ...;
#N canvas 1385 652 245 139 complex_sub.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X obj 12 58 -~;
#X obj 72 58 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 12 100 pd complex_sub.mmb~;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 48 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 74 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 6 2;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 8 2;
#X connect 10 0 8 3;
#X restore 132 124 pd zero2;
#X text 301 57 2a;
#X text 197 77 Note: becase b0 is extracted from coefficents \, a in
the quadratic will always be 1;
#X obj 57 37 *~;
#X obj 57 58 -~;
#X obj 124 32 *~ 4;
#X connect 0 0 7 0;
#X connect 0 0 13 0;
#X connect 0 0 13 1;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 7 0 2 0;
#X connect 7 0 10 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 13 0 14 0;
#X connect 14 0 2 1;
#X connect 14 0 10 1;
#X connect 15 0 14 1;
#X restore 44 124 pd get.zero.locations;
#X obj 214 334 outlet~;
#X obj 12 124 *~;
#N canvas 944 425 565 218 get.pole.locations 0;
#X obj 12 12 inlet~;
#X obj 180 12 inlet~;
#X obj 12 180 outlet~;
#X obj 72 180 outlet~;
#X obj 132 180 outlet~;
#X obj 192 180 outlet~;
#N canvas 1036 210 561 203 pole1 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 169 outlet~;
#X obj 123 169 outlet~;
#X obj 126 117 sig~ 2;
#X text 177 90 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1385 652 245 139 complex_add.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 58 +~;
#X obj 72 58 +~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 12 91 pd complex_add.mmb~;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 143 pd complex_div.mmb~;
#X text 177 140 -b + ...;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 38 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 64 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 6 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 7 2;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 9 0 6 2;
#X connect 10 0 6 3;
#X restore 12 124 pd pole1;
#X obj 12 58 *~ 1;
#X text 257 98 ---------------------;
#X text 307 108 2a;
#X text 197 58 <- because it should be -a1 and -a2;
#X text 197 128 Note: since a0 is assumed to be 1 \, a in the quadratic
will always be 1;
#X text 197 88 roots = -b +/- sqrt(b^2 - 4ac);
#N canvas 1036 210 561 203 pole2 0;
#X obj 12 12 inlet~;
#X obj 123 12 inlet~;
#X obj 12 169 outlet~;
#X obj 123 169 outlet~;
#X obj 126 117 sig~ 2;
#X text 177 90 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#N canvas 1179 243 358 285 complex_div.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 147 12 inlet~;
#X obj 297 12 inlet~;
#X obj 12 247 outlet~;
#X obj 132 247 outlet~;
#X obj 12 211 /~;
#X obj 132 211 /~;
#X obj 242 129 *~;
#X obj 282 129 *~;
#X obj 242 155 +~;
#X obj 12 129 *~;
#X obj 52 129 *~;
#X obj 12 155 +~;
#X obj 132 129 *~;
#X obj 172 129 *~;
#X obj 132 155 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 12 143 pd complex_div.mmb~;
#X text 177 140 -b + ...;
#N canvas 1385 652 245 139 complex_sub.mmb~ 0;
#X obj 12 12 inlet~;
#X obj 72 12 inlet~;
#X obj 132 12 inlet~;
#X obj 192 12 inlet~;
#X obj 12 94 outlet~;
#X obj 72 94 outlet~;
#X obj 12 58 -~;
#X obj 72 58 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 12 90 pd complex_sub.mmb~;
#N canvas 639 354 163 155 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1195 261 179 146 >=~ 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 54 pd >=~;
#X obj 45 33 sig~ 0;
#X obj 12 75 *~;
#X obj 12 96 sqrt~;
#X obj 12 117 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 86 38 pd expr~ sqrt(($v1>=0)*$v1);
#N canvas 1112 90 172 185 expr~ 0;
#X obj 12 12 inlet~;
#N canvas 1158 433 182 139 <~ 0;
#X obj 111 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 715 101 171 168 @hv_obj 0;
#X obj 12 12 inlet~;
#X obj 12 137 outlet~;
#X obj 12 114 *~;
#X obj 95 12 inlet~;
#X obj 27 70 sig~ 1;
#X obj 27 92 -~;
#N canvas 0 23 450 300 hv.lte 0;
#X obj 150 34 inlet~;
#X obj 45 34 inlet~;
#X obj 45 129 outlet~;
#N canvas 467 216 450 300 @hv_obj 0;
#X obj 217 60 inlet~;
#X obj 120 60 inlet~;
#X obj 170 183 outlet~;
#X connect 1 0 2 0;
#X restore 45 105 pd @hv_obj __and~f;
#X obj 150 83 sig~ 1;
#N canvas 715 101 191 233 @hv_obj 0;
#X obj 49 83 -~;
#X obj 50 109 clip~ -1e-37 0;
#X obj 49 32 inlet~;
#X obj 93 33 inlet~;
#X obj 50 174 outlet~;
#X obj 50 151 *~ 1e+37;
#X obj 49 58 min~;
#X obj 50 130 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 2 0 0 1;
#X connect 3 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 45 57 pd @hv_obj __lte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 43 pd hv.lte;
#N canvas 1069 267 186 140 hv.gte 0;
#X obj 117 12 inlet~;
#X obj 12 12 inlet~;
#X obj 12 107 outlet~;
#N canvas 467 216 290 220 @hv_obj 0;
#X obj 158 52 inlet~;
#X obj 61 52 inlet~;
#X obj 61 136 outlet~;
#X obj 61 100 *~;
#X connect 0 0 3 1;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 12 83 pd @hv_obj __and~f;
#X obj 117 61 sig~ 1;
#N canvas 249 541 148 189 @hv_obj 0;
#X obj 23 69 -~;
#X obj 23 94 clip~ -1e-37 0;
#X obj 23 18 inlet~;
#X obj 67 19 inlet~;
#X obj 23 159 outlet~;
#X obj 23 136 *~ 1e+37;
#X obj 23 44 min~;
#X obj 23 115 +~ 1e-37;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 2 0 6 0;
#X connect 3 0 6 1;
#X connect 3 0 0 1;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X restore 12 35 pd @hv_obj __gte~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 82 44 pd hv.gte;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 2 0;
#X connect 7 0 5 1;
#X restore 12 35 pd @hv_obj __lt~f;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X restore 12 80 pd <~;
#X obj 39 59 sig~ 0;
#X obj 12 101 *~;
#X obj 27 38 abs~;
#X obj 12 122 sqrt~;
#X obj 12 143 outlet~;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X restore 123 64 pd expr~ sqrt(($v1<0)*abs($v1));
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 4 0 6 2;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 8 2;
#X connect 10 0 8 3;
#X restore 132 124 pd pole2;
#X obj 57 37 *~;
#X obj 124 32 *~ 4;
#X obj 57 58 +~;
#X connect 0 0 7 0;
#X connect 0 0 14 0;
#X connect 0 0 14 1;
#X connect 1 0 15 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 7 0 6 0;
#X connect 7 0 13 0;
#X connect 13 0 4 0;
#X connect 13 1 5 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 6 1;
#X connect 16 0 13 1;
#X restore 154 207 pd get.pole.locations;
#X text 315 208 Difference Equation:;
#X text 325 288 H(z) = b0 + b1*z^-1 + b2*z^-2;
#X text 367 308 1 + a1*z^-1 + a2*z^-2;
#X text 367 298 ----------------------;
#X text 367 243 - a1*y[n-1] - a2*y[n-2];
#X text 325 228 y[n] = b0*x[n] + b1*x[n-1] + b2*x[n-2];
#X text 315 268 z-Transform:;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 12 0;
#X connect 4 0 13 0;
#X connect 5 0 10 0;
#X connect 6 0 10 1;
#X connect 7 0 10 2;
#X connect 8 0 14 0;
#X connect 9 0 14 1;
#X connect 10 0 13 1;
#X connect 10 1 11 0;
#X connect 10 2 11 1;
#X connect 11 0 0 2;
#X connect 11 1 0 3;
#X connect 11 2 1 2;
#X connect 11 3 1 3;
#X connect 13 0 0 0;
#X connect 14 0 2 2;
#X connect 14 1 2 3;
#X connect 14 2 3 2;
#X connect 14 3 3 3;
#X restore 12 136 pd biquad.mmb~;
#N canvas 1052 399 405 343 filtercoeff.mmb~ 0;
#X obj 12 288 outlet~ a1;
#X obj 82 288 outlet~ a2;
#X obj 152 288 outlet~ b0;
#X obj 222 288 outlet~ b1;
#X obj 292 288 outlet~ b2;
#X obj 12 21 inlet~ frequency;
#X obj 266 12 inlet~ Q;
#X obj 354 248 +~ 1;
#X obj 82 184 sig~ 1;
#X obj 82 210 -~;
#X obj 266 72 max~ 0.01;
#X obj 292 236 *~ -1;
#X obj 222 236 sig~ 0;
#X obj 152 184 *~;
#X obj 12 262 /~;
#X obj 82 262 /~;
#X obj 152 262 /~;
#X obj 222 262 /~;
#X obj 292 262 /~;
#X obj 12 236 *~ -1;
#X obj 82 236 *~ -1;
#X obj 167 134 /~;
#X obj 182 108 *~ 2;
#X obj 12 42 *~ 6.28319;
#X obj 12 63 /~ 44100;
#X obj 12 84 expr~ -2*cos($v1);
#X obj 167 77 expr~ sin($v1);
#X text 74 102 <EXPR HERE >;
#X connect 5 0 23 0;
#X connect 6 0 10 0;
#X connect 7 0 17 1;
#X connect 7 0 18 1;
#X connect 7 0 16 1;
#X connect 7 0 15 1;
#X connect 7 0 14 1;
#X connect 8 0 9 0;
#X connect 9 0 20 0;
#X connect 10 0 13 0;
#X connect 10 0 22 0;
#X connect 11 0 18 0;
#X connect 12 0 17 0;
#X connect 13 0 11 0;
#X connect 13 0 16 0;
#X connect 14 0 0 0;
#X connect 15 0 1 0;
#X connect 16 0 2 0;
#X connect 17 0 3 0;
#X connect 18 0 4 0;
#X connect 19 0 14 0;
#X connect 20 0 15 0;
#X connect 21 0 13 1;
#X connect 21 0 9 1;
#X connect 21 0 7 0;
#X connect 22 0 21 1;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 24 0 26 0;
#X connect 25 0 19 0;
#X connect 26 0 21 0;
#X restore 28 80 pd filtercoeff.mmb~ bandpass;
#X obj 28 59 clip~ 0 20000;
#X obj 193 38 sig~ 100;
#X obj 28 38 inlet~;
#X obj 12 157 outlet~;
#X obj 12 12 inlet~;
#X text 204 80 <- HERE;
#X connect 0 0 5 0;
#X connect 1 0 0 1;
#X connect 1 1 0 2;
#X connect 1 2 0 3;
#X connect 1 3 0 4;
#X connect 1 4 0 5;
#X connect 2 0 1 0;
#X connect 3 0 1 1;
#X connect 4 0 2 0;
#X connect 6 0 0 0;
#X restore 12 131 pd bandpass.mmb~;
#X obj 12 231 +~;
#X obj 12 252 /~ 2;
#X text 54 106 With expr~;
#X msg 105 81 50;
#X msg 135 81 440;
#X text 356 131 <- Check out filtercoeff.mmb~ in both subpatches;
#X obj 135 107 sig~ 50;
#X text 289 105 Without expr~;
#X text 105 61 Change frequency;
#X text 15 11 Notable pitch diference in low frequencies between expr~
and non-expr~ biquad filter;
#X text 11 43 Trigger note;
#X text 229 41 Trigger note;
#X text 292 173 <- Just to enhance harmonics;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 14 0;
#X connect 8 0 10 0;
#X connect 10 0 9 0;
#X connect 10 0 9 1;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 13 0 22 1;
#X connect 14 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 21 0;
#X connect 17 0 15 0;
#X connect 18 0 19 0;
#X connect 19 0 22 0;
#X connect 20 0 18 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 2 0;
#X connect 23 0 6 0;
#X connect 25 0 28 0;
#X connect 26 0 28 0;
#X connect 28 0 21 1;
#X connect 28 0 7 1;
